(this["webpackJsonpquick-chat"]=this["webpackJsonpquick-chat"]||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/profile.777a978f.png"},22:function(e,t,a){e.exports=a(41)},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(4),s=a.n(r),i=a(14),o=a(2),u=a(1),l=a(16),m=a(12),d=a(17),v=a.n(d),f=a(5),g=f[0],E=f,b=a(6),p=a(20),h=a(11),j={},O=Object(u.combineReducers)({activeUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTIVE_USER/SET":return t.payload;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;return t.type,e},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case"MESSAGES/SEND":var a=t.payload,n=a.to.id,c=a.message,r=e[n]||[];return Object(h.a)(Object(h.a)({},e),{},Object(b.a)({},n,[].concat(Object(p.a)(r),[{message:c,date:new Date}])));default:return e}}}),k={key:"quick-chat",storage:v.a},y=Object(m.a)(k,O),S=Object(u.createStore)(y,Object(l.composeWithDevTools)(u.applyMiddleware.apply(void 0,[]))),U=Object(m.b)(S),_=(a(35),a(36),a(43)),w=function(e){var t=e.message,a=e.date;return c.a.createElement("div",{className:"message"},c.a.createElement("div",null,t),c.a.createElement("div",{className:"message__date"},function(e){return Object(_.a)(new Date(e),"MM/dd/yyyy HH:ii")}(a)))},N=(a(37),function(e){var t=e.messages,a=void 0===t?[]:t,r=Object(n.useRef)();return Object(n.useEffect)((function(){r&&r.current&&r.current.scrollIntoView()}),[r,a.length]),c.a.createElement("div",{className:"message-list"},a.map((function(e,t){return c.a.createElement("div",{key:t,className:"message-list__message"},c.a.createElement(w,e))})),c.a.createElement("div",{ref:r}))}),C=a(18),M=a.n(C),A=a(19),D=a.n(A),T=(a(38),function(e){var t=e.user.name,a=e.onClick,n=e.active;return c.a.createElement("button",{onClick:a,className:M()("user-card",{"user-card--active":n})},c.a.createElement("img",{alt:t,className:"user-card__avatar",src:D.a}),c.a.createElement("div",{className:"user-card__name"},t))}),I=function(e){var t=e.users,a=e.activeUser.id,n=e.onUserClick;return c.a.createElement("div",{className:"user-list"},t.map((function(e){var t=e.id;return c.a.createElement(T,{key:t,active:a===t,user:e,onClick:function(){return n(e)}})})))},R=(a(39),function(e){var t=e.onSubmit,a=e.onChange,r=e.message,s=Object(n.useCallback)((function(e){e.preventDefault(),t()}),[t]),i=Object(n.useCallback)((function(e){var t=e.target.value;a(t)}),[a]);return c.a.createElement("form",{onSubmit:s},c.a.createElement("input",{onChange:i,className:"new-message",value:r}))}),q=function(e){var t=e.messages,a=e.activeUser.id;return c.a.createElement(N,{messages:t[a]||[]})},x=Object(o.b)((function(e){return{messages:e.messages,activeUser:e.activeUser}}))(q),J=function(e){var t=e.setActiveUser,a=e.users,n=e.activeUser;return c.a.createElement(I,{users:a,activeUser:n,onUserClick:t})},V={setActiveUser:function(e){return{type:"ACTIVE_USER/SET",payload:e}}},W=Object(o.b)((function(e){return{users:e.users,activeUser:e.activeUser}}),V)(J),B=a(21),G=function(e){var t=e.sendMessage,a=e.activeUser,r=Object(n.useState)(""),s=Object(B.a)(r,2),i=s[0],o=s[1],u=Object(n.useCallback)((function(){t(i,a),o("")}),[t,i,a]);return Object(n.useEffect)((function(){o("")}),[a,o]),c.a.createElement(R,{message:i,onChange:o,onSubmit:u})},H={sendMessage:function(e,t){return{type:"MESSAGES/SEND",payload:{message:e,to:t}}}},$=Object(o.b)((function(e){return{activeUser:e.activeUser}}),H)(G),z=(a(40),function(){return c.a.createElement("div",{className:"chat-page"},c.a.createElement(W,null),c.a.createElement("div",{className:"chat-page__messages-section"},c.a.createElement("div",{className:"chat-page__messages-section__message-list-container"},c.a.createElement(x,null)),c.a.createElement($,null)))});var F=function(){return c.a.createElement(z,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(o.a,{store:S},c.a.createElement(i.a,{loading:null,persistor:U},c.a.createElement(F,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e){e.exports=JSON.parse('[{"id":1,"name":"john doe"},{"id":2,"name":"jane doe"},{"id":3,"name":"drake john"},{"id":4,"name":"drake johnson"},{"id":5,"name":"jan dark"}]')}},[[22,1,2]]]);
//# sourceMappingURL=main.69847323.chunk.js.map